<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Video Player</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css" crossorigin="anonymous">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

html, body {
  background: #000;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  font-family: system-ui, sans-serif;
}

.shaka-video-container {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

video {
  width: 100%;
  height: 100%;
  object-fit: contain;
  background: #000;
}
</style>
</head>

<body>

<div class="shaka-video-container" data-shaka-player>
  <video autoplay playsinline></video>
</div>

<script>
document.addEventListener('DOMContentLoaded', async () => {

  shaka.polyfill.installAll();

  if (!shaka.Player.isBrowserSupported()) {
    alert("Browser not supported");
    return;
  }

  const video = document.querySelector('video');
  const player = new shaka.Player(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    controlPanelElements: [
      'play_pause',
      'time_and_duration',
      'mute',
      'volume',
      'spacer',
      'quality',
      'fullscreen'
    ]
  });

  // ðŸ”‘ DRM KEY SECTION (PUT YOUR KEY HERE)
  player.configure({
    drm: {
      clearKeys: {
        "ed76c18710d621a87c89dedc7c13019f": "7241c82fe48525a9dc6be6d7bb86611f"
      }
    }
  });

  // ðŸŽ¬ STREAM URL
  const streamUrl = "https://otte.live.fly.ww.aiv-cdn.net/syd-nitro/live/dash/enc/pnes4dv2ag/out/v1/e21d21ec21e34c7192049a44ee3de428/cenc.mpd";

  try {
    await player.load(streamUrl);
    console.log("Video loaded successfully");
  } catch (error) {
    console.error("Error loading stream:", error);
  }

});
</script>

</body>
</html>
